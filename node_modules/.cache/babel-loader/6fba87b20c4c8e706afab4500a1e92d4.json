{"ast":null,"code":"import uuid from \"uuid\";\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_TASK\":\n      const newTask = {\n        id: uuid.v4(),\n        task: action.payload.task,\n        type: \"todo\",\n        category: action.payload.category,\n        motivation: action.payload.motivation,\n        color: action.payload.color\n      };\n      const addedTasks = [...state.tasks, newTask];\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(addedTasks));\n      return { ...state,\n        tasks: addedTasks\n      };\n\n    case \"DELETE_TASK\":\n      const nondeletedTasks = state.tasks.filter(t => t.id !== action.payload);\n      const deletedTask = state.tasks.filter(t => t.id === action.payload)[0];\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(nondeletedTasks));\n      localStorage.setItem(\"deletedTask\", JSON.stringify(deletedTask));\n      console.log(deletedTask);\n      return { ...state,\n        tasks: nondeletedTasks,\n        deletedTask: deletedTask,\n        justDeleted: true\n      };\n\n    case \"UNDELETE_TASK\":\n      const lastDeletedTask = state.deletedTask;\n      const restoredTasks = [...state.tasks, lastDeletedTask];\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(restoredTasks));\n      return { ...state,\n        tasks: restoredTasks,\n        justDeleted: false\n      };\n\n    case \"REMOVE_JUSTDELETED\":\n      console.log(state.justDeleted);\n      return { ...state,\n        justDeleted: false\n      };\n\n    case \"SET_CURRENT_TASK\":\n      return { ...state,\n        currentTask: action.payload.id\n      };\n\n    case \"UPDATE_TASK\":\n      const updatedTask = { ...state.currentTask,\n        text: action.payload\n      };\n      const updatedTasksIndex = state.tasks.findIndex(note => note.id === state.currentTask.id);\n      const updatedTasks = [...state.tasks.slice(0, updatedTasksIndex), updatedTask, ...state.tasks.slice(updatedTasksIndex + 1)];\n      return {\n        currentTask: null,\n        tasks: updatedTasks\n      };\n\n    case \"CLEANUP_TASKS\":\n      const cleanedTasks = state.tasks.filter(t => t.id && t.id.length > 1);\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(cleanedTasks));\n      return { ...state,\n        tasks: cleanedTasks\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/dagnis/Documents/Github/dorightnow-app/src/context/reducer.js"],"names":["uuid","reducer","state","action","type","newTask","id","v4","task","payload","category","motivation","color","addedTasks","tasks","localStorage","setItem","JSON","stringify","nondeletedTasks","filter","t","deletedTask","console","log","justDeleted","lastDeletedTask","restoredTasks","currentTask","updatedTask","text","updatedTasksIndex","findIndex","note","updatedTasks","slice","cleanedTasks","length"],"mappings":"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","sourcesContent":["import uuid from \"uuid\";\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_TASK\":\n      const newTask = {\n        id: uuid.v4(),\n        task: action.payload.task,\n        type: \"todo\",\n        category: action.payload.category,\n        motivation: action.payload.motivation,\n        color: action.payload.color,\n      };\n\n      const addedTasks = [...state.tasks, newTask];\n\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(addedTasks));\n\n      return {\n        ...state,\n        tasks: addedTasks,\n      };\n\n    case \"DELETE_TASK\":\n      const nondeletedTasks = state.tasks.filter(\n        (t) => t.id !== action.payload\n      );\n      const deletedTask = state.tasks.filter((t) => t.id === action.payload)[0];\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(nondeletedTasks));\n      localStorage.setItem(\"deletedTask\", JSON.stringify(deletedTask));\n      console.log(deletedTask);\n\n      return {\n        ...state,\n        tasks: nondeletedTasks,\n        deletedTask: deletedTask,\n        justDeleted: true,\n      };\n\n    case \"UNDELETE_TASK\":\n      const lastDeletedTask = state.deletedTask;\n      const restoredTasks = [...state.tasks, lastDeletedTask];\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(restoredTasks));\n\n      return {\n        ...state,\n        tasks: restoredTasks,\n        justDeleted: false,\n      };\n\n    case \"REMOVE_JUSTDELETED\":\n      console.log(state.justDeleted);\n\n      return {\n        ...state,\n        justDeleted: false,\n      };\n\n    case \"SET_CURRENT_TASK\":\n      return {\n        ...state,\n        currentTask: action.payload.id,\n      };\n\n    case \"UPDATE_TASK\":\n      const updatedTask = {\n        ...state.currentTask,\n        text: action.payload,\n      };\n\n      const updatedTasksIndex = state.tasks.findIndex(\n        (note) => note.id === state.currentTask.id\n      );\n\n      const updatedTasks = [\n        ...state.tasks.slice(0, updatedTasksIndex),\n        updatedTask,\n        ...state.tasks.slice(updatedTasksIndex + 1),\n      ];\n\n      return {\n        currentTask: null,\n        tasks: updatedTasks,\n      };\n\n    case \"CLEANUP_TASKS\":\n      const cleanedTasks = state.tasks.filter((t) => t.id && t.id.length > 1);\n      localStorage.setItem(\"dorightnowTasks\", JSON.stringify(cleanedTasks));\n\n      return {\n        ...state,\n        tasks: cleanedTasks,\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}